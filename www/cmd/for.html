<!DOCTYPE html>
<html>
  <head>
    <title>for</title>
    <link rel="stylesheet" type="text/css" href="../jsoncalc.css">
    <meta name="description" content="jsoncalc for - Loop over the elements of an array">
    <meta name="keywords" content="command, command reference, for">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <h1>for - Loop over the elements of an array</h1>
    <dl>
      <dt>for (<var>array</var>) <var>cmd</var>
      <br/>for (<var>variable</var> = <var>array</var>) <var>cmd</var>
      <br/>for (<var>variable</var> of <var>array</var>) <var>cmd</var>
      <br/>for (var <var>variable</var> = <var>array</var>) <var>cmd</var>
      <br/>for (var <var>variable</var> of <var>array</var>) <var>cmd</var>
      <br/>for (const <var>variable</var> = <var>array</var>) <var>cmd</var>
      <br/>for (const <var>variable</var> of <var>array</var>) <var>cmd</var>
      <dd>
      This executes <var>cmd</var> for each element of <var>array</var>.
      <p>
      Within <var>cmd</var> the value of the current element is available
      via the <var>variable</var> named after the "(";
      if you don't name a variable, then it will be available as "this".
      The <tt>var</tt> or <tt>const</tt> keyword declares a new variable
      with the new name;
      if you give a variable name without <tt>var</tt> then it must have
      already been declared before the <tt>for()...</tt> command.
      <p>
    </dl>
    <details open>
      <summary>Examples</summary>

      <div class="example">
	<kbd>for (var i = 1...5) { i * 2; }</kbd>
	<samp>2<br/>
	4<br/>
	6<br/>
	8<br/>
	10</samp>
        The expression "<tt>1...5</tt>" returns the array <tt>[1,2,3,4,5]</tt>
        The <tt>for</tt> command loops over that array, setting <tt>i</tt> to
        each element's value while it executes the body of the loop.
        The body just outputs <tt>i*2</tt>.
      </div>

    </details>

    <details>
      <summary>Notes</summary>
      <ul>

        <li>If you want to loop over a range of integers, consider using
	    the <a target="_PARENT" href="../index.html?op=dot">i...j</a>
	    operator.
	    <div class="example">
	      <kbd>for (var i = 1 ... 5) i</kbd>
	      <samp>1
	        <br/>2
	        <br/>3
	        <br/>4
	        <br/>5
	      </samp>
	      The <tt>1...5</tt> expression returns the array
	      <tt>[1,2,3,4,5]</tt>, so the statement loops over that.
	    </div>

	<li>The "=" and "of" symbols both do exactly the same thing here.
	    Most C-like languages (other than C itself) use "in" to loop over
	    the values of an array, but JavaScript uses "in" to loop over the
	    subscripts of an array instead of the values, which is much more
	    cumbersome.  JavaScript later added "of" to loop over values as
	    an afterthought, but it's still weird.  JsonCalc supports "of"
	    for cross-compatibility, but "=" is more intuitive.

	<li>The traditional <tt>for(</tt><var>initialize;test;increment</var><tt>)</tt>
	    version of the for-loop is not supported by JsonCalc at this time.

      </ul>
    </details>

    <details>
      <summary>See Also</summary>
      <table>
        <tr><td><a target="_PARENT" href="../index.html?cmd=while">while()...</a></td><td>Loop until a condition becomes false</td></tr>
        <tr><td><a target="_PARENT" href="../index.html?op=dot">i...j</a></td><td>Return an array of integers over a given range</td></tr>
      </table>
    </details>

  </body>
</html>
