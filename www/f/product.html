<!DOCTYPE html>
<html>
  <head>
    <title>product</title>
    <link rel="stylesheet" type="text/css" href="../jsoncalc.css">
    <meta name="description" content="jsoncalc product - Multiply as series of numbers and return their product">
    <meta name="keywords" content="number, array, aggregate, jsoncalc, function reference, product">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="../clipboard.js"></script>
    <script>
	$(document).ready(function(){
	    $("div.example kbd").css("cursor", "copy")
				.attr("title", "Click to copy")
				.on("click", function(){
					copyToClipboard(this.innerText);
				});
	});
    </script>
  </head>
  <body>
    <h1>product - Multiply as series of numbers and return their product</h1>
    <dl>
      <dt>product(<var>num</var>)
      <dd>
      This multiplies each of its <var>num</var> arguments together and returns the
      product.
      <p>
      This is an aggregate function, meaning it accumulates the count over a series
      of table elements when used with the @ operator, or a <tt>SELECT</tt> clause.
      You may also pass it an array to have it accumulate results across the elements
      of that array.
    </dl>
    <details open>
      <summary>Examples</summary>

      <div class="example">
	<kbd>product([])</kbd>
	<samp>1</samp>
        For an empty list, it returns 1.
      </div>

      <div class="example">
	<kbd>product(2..7)</kbd>
	<samp>5040</samp>
	The <tt>2..7</tt> expression returns an array of integers connecting
	the two endpoints.
	Multiplying those together gives us 5040, which happens to be 7 factorial.
	In general, <tt>product(2..<var>n</var>)</tt> will return <var>n</var> factorial.
      </div>

      <div class="example">
	<kbd>0..10 @ {n:this, "n!":product(2..this)}</kbd>
	<samp>
	  <table>
	    <tr><th>n</th><th>n!</th></tr>
	    <tr><td>0</td><td>1</td></tr>
	    <tr><td>1</td><td>1</td></tr>
	    <tr><td>2</td><td>2</td></tr>
	    <tr><td>3</td><td>6</td></tr>
	    <tr><td>4</td><td>24</td></tr>
	    <tr><td>5</td><td>120</td></tr>
	    <tr><td>6</td><td>720</td></tr>
	    <tr><td>7</td><td>5040</td></tr>
	    <tr><td>8</td><td>40320</td></tr>
	    <tr><td>9</td><td>362880</td></tr>
	    <tr><td>10</td><td>3628800</td></tr>
	  </table>
	</samp>
	A nice factorial table for you.
	The <tt>2..this</tt> expression returns an empty array when this is 0 or 1,
	so <tt>product()</tt> returns 1 in those cases.
	<p>
	Usually an aggregate function such as <tt>product()</tt> would be applied to
	discrete numbers plucked from the elements of the array on the right of the
	@ or @@ operator and return a value accumulated across multiple rows... but here we're passing it an array so it's being applied
	to the array instead.
      </div>

    </details>
  </body>
</html>
