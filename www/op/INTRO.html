<!DOCTYPE html>
<html>
  <head>
    <title>JsonCalc Operators</title>
    <link rel="stylesheet" type="text/css" href="../jsoncalc.css">
    <meta name="description" content="jsoncalc operator summary">
    <meta name="keywords" content="jsoncalc, operator reference">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      span.op {
        font-style: normal;
        font-weight: bold;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  </head>
  <body>
    <h1>JsonCalc Operators</h1>

    This is a list of operators that are part of the JsonCalc query language.

    <details>
      <summary>Operators with alphabetic names are case-insensitive.</summary>
      They're listed in uppercase here mostly so they'll stand out, but you can
      type them in lowercase if you prefer.
    </details>

    <details>
      <summary>This list is sorted with highest-precedence operators first.</summary>
      So, for example, the <tt>*</tt> multiplication operator is listed before the
      <tt>+</tt> addition operator because multiplication has a higher precedence.
      In the absence of parentheses, multiplication is done before addition.
    </details>

    <details>
      <summary>A lone <tt>=</tt> is used two ways: as a case-insensitive equality operator, and as an assignment operator.</summary>.
      Context is used to distinguish between its two uses.
      If the left operand is something that could be assigned to, then it's
      an assignment operator; otherwise it is an equality operator.
      If necessary, you can force it to be treated like an equality operator
      by wrapping parentheses around the expression.
    </details>

    <strong>Sections:</strong>
      <label for="sectionAll"><input type="radio" id="sectionAll" name="section" value="all" checked>All</label>
      <label for="sectionString"><input type="radio" id="sectionString" name="section" value="string">String</label>
      <label for="sectionNumber"><input type="radio" id="sectionNumber" name="section" value="number">Number</label>
      <label for="sectionObject"><input type="radio" id="sectionObject" name="section" value="object">Object</label>
      <label for="sectionArray"><input type="radio" id="sectionArray" name="section" value="array">Array</label>
      <label for="sectionBoolean"><input type="radio" id="sectionBoolean" name="section" value="boolean">Boolean</label>
      <label for="sectionDateTime"><input type="radio" id="sectionDateTime" name="section" value="datetime">Date/Time</label>
      <label for="sectionAggregate"><input type="radio" id="sectionAggregate" name="section" value="aggregate">Aggregate</label>

    <table class="opList">
      <tr><th>Left<br/>Operand</th><th>Operator</th><th>Right<br/>Operand</th><th>Description</th></tr>
      <tr><td class="left">object</td><td class="op"><a target="_PARENT" href="../index.html?op=dot">.</a></td><td class="right">name</td><td class="opdesc">Access a member of an object by name</td></tr>
      <tr><td class="left">object</td><td class="op"><a target="_PARENT" href="../index.html?op=dot">..</a></td><td class="right">name</td><td class="opdesc">Access a deep member</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left"></td><td class="op"><a target="_PARENT" href="../index.html?op=bitwise">~</a></td><td class="right">number</td><td class="opdesc">Bitwise "not"</td></tr>
      <tr><td class="left"></td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">-</a></td><td class="right">number</td><td class="opdesc">Negation (subtract <var>number</var> from 0)</td></tr>
      <tr><td class="left"></td><td class="op"><a target="_PARENT" href="../index.html?op=bool">!<br/>NOT</a></td><td class="right">bool</td><td class="opdesc">Logical "not"</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number</td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">/</a></td><td class="right">number</td><td class="opdesc">Divide <var>number</var>s</td></tr>
      <tr><td class="left">number</td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">%</a></td><td class="right">number</td><td class="opdesc">Remainder from integer division (modulo)</td></tr>
      <tr><td class="left">number</td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">*</a></td><td class="right">number</td><td class="opdesc">Multiply <var>number</var>s</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number<br/>string</td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">+</a></td><td class="right">number<br/>string</td><td class="opdesc">Add <var>number</var>s or concatenate <var>string</var>s</td></tr>
      <tr><td class="left">number</td><td class="op"><a target="_PARENT" href="../index.html?op=arithmetic">-</a></td><td class="right">number</td><td class="opdesc">Subtract <var>number</var>s</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number<br/>string</td><td class="op"><a target="_PARENT" href="../index.html?op=compare">&gt;=<br/>&gt;<br/>&lt;<br/>&lt;=</a></td><td class="right">number<br/>string</td><td class="opdesc">Comparison. Strings are case-sensitive.</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number<br/>string</td><td class="op"><a target="_PARENT" href="../index.html?op=equal">==<br/>!=</a></td><td class="right">number<br/>string</td><td class="opdesc">Equality comparison</td></tr>
      <tr><td class="left">number<br/>string</td><td class="op"><a target="_PARENT" href="../index.html?op=equal">=<br/>&lt;&gt;</a></td><td class="right">number<br/>string</td><td class="opdesc">case-insensitive equality comparison</td></tr>
      <tr><td class="left">expr</td><td class="op"><a target="_PARENT" href="../index.html?op=equal">===<br/>!==</a></td><td class="right">expr</td><td class="opdesc">Strict equality comparison</td></tr>
      <tr><td class="left">string</td><td class="op"><a target="_PARENT" href="../index.html?op=like">LIKE<br/>NOT LIKE</a></td><td class="right">pattern<br/>regex</td><td class="opdesc">Test a string against a pattern</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">expr</td><td class="op"><a target="_PARENT" href="../index.html?op=in">IN</a></td><td class="right">array</td><td class="opdesc">Test whether an array contains a value</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">array<br/>object</td><td class="op"><a target="_PARENT" href="../index.html?op=subscript">[</a></td><td class="right">number <span class="op">]</span><br/>name <span class="op">:</span> expr <span class="op">]</span><br/>string <span class="op">]</span></td><td class="opdesc">Subscripting</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number<br/>object</td><td class="op"><a target="_PARENT" href="../index.html?op=bitwise">&</a></td><td class="right">number<br/>object</td><td class="opdesc">Bitwise AND or object member intersection</td></tr>
      <tr><td class="left">number<br/>object</td><td class="op"><a target="_PARENT" href="../index.html?op=bitwise">^</a></td><td class="right">number<br/>object</td><td class="opdesc">Bitwise XOR or object member subtraction</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number<br/>object</td><td class="op"><a target="_PARENT" href="../index.html?op=bitwise">|</a></td><td class="right">number<br/>object</td><td class="opdesc">Bitwise OR or object member union</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">bool</td><td class="op"><a target="_PARENT" href="../index.html?op=bool">&&<br/>AND</a></td><td class="right">bool</td><td class="opdesc">Logical AND</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">expr</td><td class="op"><a target="_PARENT" href="../index.html?op=coalesce">??</a></td><td class="right">expr</td><td class="opdesc">If left expr is non-null, return it; else return right</td></tr>
      <tr><td class="left">bool</td><td class="op"><a target="_PARENT" href="../index.html?op=bool">||<br/>OR</a></td><td class="right">bool</td><td class="opdesc">Logical OR</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">number</td><td class="op"><a target="_PARENT" href="../index.html?op=ellipsis">...</a></td><td class="right">number</td><td class="opdesc">Generate an array of integers</td></tr>
      <tr><td class="left">array</td><td class="op"><a target="_PARENT" href="../index.html?op=values">VALUES</a></td><td class="right">array<br/>array[]</td><td class="opdesc">Assign names to values, resulting in objects</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">name</td><td class="op"><a target="_PARENT" href="../index.html?op=colon">:</a></td><td class="right">expr</td><td class="opdesc">Named member in SELECT or object generator</td></tr>
      <tr><td class="left">name</td><td class="op"><a target="_PARENT" href="../index.html?op=colon">:??</a></td><td class="right">expr</td><td class="opdesc">Name a member but only if not null</td></tr>
      <tr><td class="left">expr</td><td class="op"><a target="_PARENT" href="../index.html?op=colon">AS</a></td><td class="right">name</td><td class="opdesc">Named member in SELECT or object generator</td></tr>
      <tr><td class="left">number<br/>string</td><td class="op"><a target="_PARENT" href="../index.html?op=between">BETWEEN</a></td><td class="right">lower <span class="op">AND</span> upper</td><td class="opdesc">Test whether number is between lower and upper</td></tr>
      <tr><td class="left">bool</td><td class="op"><a target="_PARENT" href="../index.html?op=question">?</a></td><td class="right">expr<br/>expr <span class="op">:</span> expr</td><td class="opdesc">Return second or third expr, depending on bool</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">expr</td><td class="op"><a target="_PARENT" href="../index.html?op=isnull">IS NULL<br/>IS NOT NULL</a></td><td class="right"></td><td class="opdesc">Compare expr to <tt>null</tt></td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">table</td><td class="op"><a target="_PARENT" href="../index.html?op=join">@=<br/>@&lt;<br/>@&gt;</a></td><td class="right">table</td><td class="opdesc">Natural join, left and right join</td></tr>
      <tr><td colspan="4" class="divider"></td></tr>
      <tr><td class="left">array</td><td class="op"><a target="_PARENT" href="../index.html?op=each">@</a></td><td class="right">expr</td><td class="opdesc">Array filtering, returns 1 per group</td></tr>
      <tr><td class="left">array</td><td class="op"><a target="_PARENT" href="../index.html?op=each">@@</a></td><td class="right">expr</td><td class="opdesc">Array filtering, returns 1 per row</td></tr>
      <tr><td class="left"></td><td class="op"><a target="_PARENT" href="../index.html?op=select">SELECT</a></td><td class="right">...</td><td class="opdesc">SQL-like SELECT operator</td></tr>
      <tr><td class="left">lvalue</td><td class="op"><a target="_PARENT" href="../index.html?cmd=assign">=</a></td><td class="right">value</td><td class="opdesc">Assign</td></tr>
      <tr><td class="left">lvalue</td><td class="op"><a target="_PARENT" href="../index.html?cmd=assign">=??</a></td><td class="right">value</td><td class="opdesc">Assign if <var>value</var> not null</td></tr>
      <tr><td class="left">lvalue</td><td class="op"><a target="_PARENT" href="../index.html?cmd=assign">[] =</a></td><td class="right">value</td><td class="opdesc">Append to an array</td></tr>
    </table>
  </body>
</html>
